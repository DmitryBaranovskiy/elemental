<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Elemental</title>
        <script src="elemental.js"></script>
        <script src="node_modules/eve/eve.js"></script>
        
        <script>
            window.onload = function () {
                var s = document.getElementById("source"),
                    b = document.getElementById("action"),
                    r = document.getElementById("result"),
                    p = elemental(),
                    res = "",
                    stack = [res],
                    name = "",
                    pointer = 0;
                eve.on("elemental", function (data, attr, raw) {
                    console.log(eve.nt(), data, attr, raw);
                    // res += raw;
                })
                // eve.on("elemental./tag", function (data, attr, raw) {
                //     console.log(raw);
                //     res += raw;
                // })
                // eve.on("elemental.text", function (data, attr, raw) {
                //     console.log(raw);
                //     res += raw;
                // })
                // eve.on("elemental.special", function (data, attr, raw) {
                //     console.log(raw);
                //     res += raw;
                // })
                // eve.on("elemental.comment", function (data, attr, raw) {
                //     console.log(raw);
                //     res += raw;
                // })
                b.onclick = function () {
                    p('<test><p>pp&vartriangleleft;pp.aa</p><pp/></test>');
                    p.end();
                    r.value = res;
                    // window.a = res;
                };
            };
        </script>
        <style>
            #source,
            #result {
                width: 640px;
                height: 480px;
            }
        </style>
    </head>
    <body>
        <textarea id="source">
            <test><p>p</p><pp/></test>
        </textarea>
        <button id="action">Parse</button>
        <textarea id="result"></textarea>
    </body>
</html>
